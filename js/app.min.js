var $=Dom7,$$=Dom7,app=new Framework7({name:"Lunghemboli",theme:"aurora",el:"#app",store:store,routes:routes});const pesiColor={1:"#2a9d8f",2:"#2a9d8f",3:"#e9c46a",4:"#f4a261",5:"#e76f51"},gauge=app.gauge.get(".pesi-gauge");let numOr0=n=>isNaN(n)?0:n,pesi=0,updatePesi=()=>{if(!$$("#pesi-form input[name=age]")[0].value)return $$("#result").hide(),void $$("#noresult").show();$$("#result").show(),$$("#noresult").hide(),newPesi=numOr0(Number($$("#pesi-form input[name=age]")[0].value)),$$("#pesi-form input:checked").forEach(e=>newPesi+=numOr0(Number(e.dataset.points)));let pesiClass=0;pesiClass=newPesi<66?1:newPesi<86?2:newPesi<106?3:newPesi<126?4:5;let pesiFraction=newPesi/200;return gauge.update({value:pesiFraction>1?1:pesiFraction,valueText:newPesi,labelText:`Riskklass ${pesiClass}`,valueTextColor:pesiColor[pesiClass],borderColor:pesiColor[pesiClass]}),$$(".pesiclass").hide(),$$(`#pesi${pesiClass}`).show(),newPesi},updateTreatment=()=>{let radiology=$$("form#radiology-form input").length==$$("form#radiology-form input:checked").length,pesi=updatePesi()<=85,patient=$$("form#patient-form input").length==$$("form#patient-form input:checked").length;radiology&&pesi&&patient?($$("#treatOut").show(),$$("#treatIn").hide()):($$("#treatIn").show(),$$("#treatOut").hide()),pesi?$$("#pesiExpl").hide():$$("#pesiExpl").show(),radiology?$$("#radiologyExpl").hide():$$("#radiologyExpl").show(),patient?$$("#patientExpl").hide():$$("#patientExpl").show(),updateFollowUp()},updateFollowUp=()=>{let age=numOr0(Number($$("#pesi-form input[name=age]")[0].value)),malignancy=$$("#malignancy input").prop("checked");$$("#cancerTreat, #cancerSVF, #cancerPV, .PV, #haemaCoagulation, #haemaTreat, #pvTreat, #addAge").hide(),malignancy?($$("#screening-needed input, #svf-needed input, #length-life input").prop("checked",!1),$$("#screening-needed, #svf-needed, #length-life").hide(),$$(),$$("#cancerTreat").show()):$$("#screening-needed").show();let screeningNeeded=$$("#screening-needed input").prop("checked"),svfNeeded=$$("#svf-needed input").prop("checked"),lengthLife=$$("#length-life input").prop("checked");screeningNeeded?($$("#svf-needed").show(),svfNeeded?$$("#cancerSVF").show():$$("#cancerPV, .PV").show()):malignancy||($$("#svf-needed").hide(),$$("#svf-needed input").prop("checked",!1)),!malignancy&&age&&age<50?($$("#haemaCoagulation").show(),$$("#length-life").hide(),$$("#length-life input").prop("checked",!1)):!malignancy&&age&&age>49?($$("#length-life").show(),lengthLife?$$("#pvTreat, .PV").show():$$("#haemaTreat").show()):malignancy||age||$$("#addAge").show()};$$("form#radiology-form input, form#patient-form input, form#pesi-form input").on("keyup keydown change",updateTreatment),$$("form#followup-form").on("keyup keydown change",updateFollowUp),$$(".hidden").hide().removeClass("hidden");
//# sourceMappingURL=app.min.js.map